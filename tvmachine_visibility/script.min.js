var selectbox_checked_img_url="/modules/custom/tvmachine_visibility/selectbox-checked.png",selectbox_unchecked_img_url="/modules/custom/tvmachine_visibility/selectbox-unchecked.png",URLsDontHideChannelsList=["/page/sondeo-noche-tv","/mobile/sondeo-noche-tv","/mobile/sondeo-noche"];function tvmachine_visibility_hide(){for(var e=0;e<URLsDontHideChannelsList.length;e++)if(window.location.pathname==URLsDontHideChannelsList[e])return"We should not hide any channels at this page.";var c=getCookie("tv_channels_to_hide");if(c){var i=JSON.parse(c);for(e=0;e<i.length;e++){var t="#"+i[e];jQuery(t).addClass("visibility_hide_element")}}}function tvmachine_visibility_uncheck_channels_selects(){jQuery(".selectbox-checked").attr("src",selectbox_checked_img_url),jQuery(".selectbox-unchecked").attr("src",selectbox_unchecked_img_url);var e=getCookie("tv_channels_to_hide"),c=[];if(e){c=JSON.parse(e);for(var i=0;i<c.length;i++){var t=".visibility-"+c[i];jQuery(t+".selectbox-checked").addClass("visibility_hide_element"),jQuery(t+".selectbox-unchecked").removeClass("visibility_hide_element")}}}function tvmachine_visibility_uncheck_channel_group_selects(){jQuery(".selectbox-checked").attr("src",selectbox_checked_img_url),jQuery(".selectbox-unchecked").attr("src",selectbox_unchecked_img_url);var e=getCookie("tv_channels_group_unchecked"),c=[];if(e){c=JSON.parse(e);for(var i=0;i<c.length;i++){var t="."+c[i]+"-header-checkbox";jQuery(t+".selectbox-checked").addClass("visibility_hide_element"),jQuery(t+".selectbox-unchecked").removeClass("visibility_hide_element")}}}function tvmachine_visibility_channels_clicked(e){jQuery(".selectbox-checked").attr("src",selectbox_checked_img_url),jQuery(".selectbox-unchecked").attr("src",selectbox_unchecked_img_url);var c="."+e+"-checkbox",i="."+e+"-channel",t=getGroupCookieValue(e),n=t.checked,l="";"checked"==n||"empty_cookie"==n?(newGroupCookieValue(e,l="unchecked",t.arr),jQuery(c+".selectbox-checked").addClass("visibility_hide_element"),jQuery(c+".selectbox-unchecked").removeClass("visibility_hide_element")):"unchecked"==n&&(newGroupCookieValue(e,l="checked",t.arr),jQuery(c+".selectbox-checked").removeClass("visibility_hide_element"),jQuery(c+".selectbox-unchecked").addClass("visibility_hide_element")),jQuery(i).each(function(){jQuery(".selectbox-checked").attr("src",selectbox_checked_img_url),jQuery(".selectbox-unchecked").attr("src",selectbox_unchecked_img_url);var e=jQuery(this).attr("data-channel-id"),c=".visibility-"+e,i=getChannelCookieValue(e);"unchecked"==l?(newChannelCookieValue(e,"unchecked",i.arr),jQuery(c+".selectbox-checked").addClass("visibility_hide_element"),jQuery(c+".selectbox-unchecked").removeClass("visibility_hide_element")):"checked"==l&&(newChannelCookieValue(e,"checked",i.arr),jQuery(c+".selectbox-checked").removeClass("visibility_hide_element"),jQuery(c+".selectbox-unchecked").addClass("visibility_hide_element"))})}function tvmachine_visibility_channel_clicked(e){jQuery(".selectbox-checked").attr("src",selectbox_checked_img_url),jQuery(".selectbox-unchecked").attr("src",selectbox_unchecked_img_url);var c=jQuery(e).attr("data-channel-id"),i=".visibility-"+c,t=getChannelCookieValue(c),n=t.checked;"checked"==n||"empty_cookie"==n?(newChannelCookieValue(c,"unchecked",t.arr),jQuery(i+".selectbox-checked").addClass("visibility_hide_element"),jQuery(i+".selectbox-unchecked").removeClass("visibility_hide_element")):"unchecked"==n&&(newChannelCookieValue(c,"checked",t.arr),jQuery(i+".selectbox-checked").removeClass("visibility_hide_element"),jQuery(i+".selectbox-unchecked").addClass("visibility_hide_element"))}function calcCookieValue(e){var c,i=[];if(c=getCookie("tv_channels_to_hide")){i=JSON.parse(c);var t=jQuery.inArray(e,i);-1!=t?i.splice(t,1):i.push(e)}else i.push(e);setCookie("tv_channels_to_hide",c=JSON.stringify(i),900)}function getChannelCookieValue(e){var c=getCookie("tv_channels_to_hide"),i=[],t={};if(c){i=JSON.parse(c);var n=jQuery.inArray(e,i);t.checked=-1!=n?"unchecked":"checked"}else t.checked="empty_cookie";return t.arr=i,t}function newChannelCookieValue(e,c,i){var t=jQuery.inArray(e,i);"checked"==c?-1!=t&&i.splice(t,1):"unchecked"==c&&-1==t&&i.push(e),setCookie("tv_channels_to_hide",JSON.stringify(i),900)}function getGroupCookieValue(e){var c=getCookie("tv_channels_group_unchecked"),i=[],t={};if(c){i=JSON.parse(c);var n=jQuery.inArray(e,i);t.checked=-1!=n?"unchecked":"checked"}else t.checked="empty_cookie";return t.arr=i,t}function newGroupCookieValue(e,c,i){var t=jQuery.inArray(e,i);"checked"==c?-1!=t&&i.splice(t,1):"unchecked"==c&&-1==t&&i.push(e),setCookie("tv_channels_group_unchecked",JSON.stringify(i),900)}function setCookie(e,c,i){var t=new Date;t.setTime(t.getTime()+24*i*60*60*2e3);var n="expires="+t.toUTCString();document.cookie=e+"="+c+";"+n+";path=/"}function getCookie(e){for(var c=e+"=",i=decodeURIComponent(document.cookie).split(";"),t=0;t<i.length;t++){for(var n=i[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(c))return n.substring(c.length,n.length)}return""}jQuery(document).ready(function(){tvmachine_visibility_hide(),tvmachine_visibility_uncheck_channel_group_selects(),tvmachine_visibility_uncheck_channels_selects()});